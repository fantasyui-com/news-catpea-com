import{S as a,i as t,s,o as e,e as r,v as n,B as o,k as c,p as l,c as i,j as $,w as f,f as d,h as g,l as m,x as p,y as u,z as v,A as h,G as E,D as I,E as w,u as D,H as x}from"./client.fa71ed4f.js";import{S as V,T as y}from"./Tail.878fd00e.js";import{F as j,R as b}from"./Flip.9e030ff3.js";function R(a){let t,s,E,I,w,D,x,R,S,T,A,F,N,O,k,z,B,C,G,H,M,q;document.title=t=a[4].title;const J=new V({props:{description:"Reading posts tagged "+a[0],posts:!0,categories:!0,tags:!0}}),K=new j({props:{index:a[2],collection:a[1],base:"/tag/"+a[0]+"/read"}}),L=new b({props:{data:a[3]}}),P=new j({props:{lg:!0,index:a[2],collection:a[1],base:"/tag/"+a[0]+"/read"}}),Q=new y({});return{c(){s=e(),E=r("main"),I=r("section"),w=r("div"),D=r("div"),x=r("div"),n(J.$$.fragment),S=e(),T=r("div"),A=r("div"),n(K.$$.fragment),N=e(),O=r("div"),k=r("div"),n(L.$$.fragment),B=e(),C=r("div"),G=r("div"),n(P.$$.fragment),M=e(),n(Q.$$.fragment),this.h()},l(a){o('[data-svelte="svelte-cjhwof"]',document.head).forEach(c),s=l(a),E=i(a,"MAIN",{role:!0});var t=$(E);I=i(t,"SECTION",{});var e=$(I);w=i(e,"DIV",{class:!0});var r=$(w);D=i(r,"DIV",{class:!0});var n=$(D);x=i(n,"DIV",{class:!0});var d=$(x);f(J.$$.fragment,d),d.forEach(c),n.forEach(c),S=l(r),T=i(r,"DIV",{class:!0});var g=$(T);A=i(g,"DIV",{class:!0});var m=$(A);f(K.$$.fragment,m),m.forEach(c),g.forEach(c),N=l(r),O=i(r,"DIV",{class:!0});var p=$(O);k=i(p,"DIV",{class:!0});var u=$(k);f(L.$$.fragment,u),u.forEach(c),p.forEach(c),B=l(r),C=i(r,"DIV",{class:!0});var v=$(C);G=i(v,"DIV",{class:!0});var h=$(G);f(P.$$.fragment,h),h.forEach(c),v.forEach(c),r.forEach(c),e.forEach(c),t.forEach(c),M=l(a),f(Q.$$.fragment,a),this.h()},h(){d(x,"class",R=a[4].column),d(D,"class","row mt-5"),d(A,"class",F=a[4].column),d(T,"class","row"),d(k,"class",z=a[4].column),d(O,"class","row"),d(G,"class",H=a[4].column),d(C,"class","row"),d(w,"class","container"),d(E,"role","main")},m(a,t){g(a,s,t),g(a,E,t),m(E,I),m(I,w),m(w,D),m(D,x),p(J,x,null),m(w,S),m(w,T),m(T,A),p(K,A,null),m(w,N),m(w,O),m(O,k),p(L,k,null),m(w,B),m(w,C),m(C,G),p(P,G,null),g(a,M,t),p(Q,a,t),q=!0},p(a,[s]){(!q||16&s)&&t!==(t=a[4].title)&&(document.title=t);const e={};1&s&&(e.description="Reading posts tagged "+a[0]),J.$set(e);const r={};4&s&&(r.index=a[2]),2&s&&(r.collection=a[1]),1&s&&(r.base="/tag/"+a[0]+"/read"),K.$set(r);const n={};8&s&&(n.data=a[3]),L.$set(n);const o={};4&s&&(o.index=a[2]),2&s&&(o.collection=a[1]),1&s&&(o.base="/tag/"+a[0]+"/read"),P.$set(o)},i(a){q||(u(J.$$.fragment,a),u(K.$$.fragment,a),u(L.$$.fragment,a),u(P.$$.fragment,a),u(Q.$$.fragment,a),q=!0)},o(a){v(J.$$.fragment,a),v(K.$$.fragment,a),v(L.$$.fragment,a),v(P.$$.fragment,a),v(Q.$$.fragment,a),q=!1},d(a){a&&c(s),a&&c(E),h(J),h(K),h(L),h(P),a&&c(M),h(Q,a)}}}async function S(a,t){const{tag:s,post:e}=a.params;return{tag:s,post:e}}function T(a,t,s){let{tag:e}=t,{post:r}=t;const n=D();let o=E().filter(a=>a.tags.split(" ").includes(e));function c(){s(1,o=o.map(a=>(a.ago=x(a.date).from(x()),a)))}let l,i,$,f,d,g,m=null;return m=setInterval(c,6e4),c(),I(()=>{clearInterval(m)}),w(()=>{}),a.$set=(a=>{"tag"in a&&s(0,e=a.tag),"post"in a&&s(5,r=a.post)}),a.$$.update=(()=>{32&a.$$.dirty&&s(2,l=function(a){let t=0,s=o.filter(t=>t.id===a);if(s.length>0){let a=s.pop();t=o.indexOf(a)}return t}(r)),6&a.$$.dirty&&s(3,i=o[l]),6&a.$$.dirty&&s(7,$=l+1+1<=o.length),4&a.$$.dirty&&s(8,f=l-1>=0),134&a.$$.dirty&&(d=$?o[l+1]:o[0]),262&a.$$.dirty&&(g=f?o[l-1]:o[0])}),[e,o,l,i,n,r]}export default class extends a{constructor(a){super(),t(this,a,T,R,s,{tag:0,post:5})}}export{S as preload};
