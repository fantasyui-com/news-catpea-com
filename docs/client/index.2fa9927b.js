import{S as a,i as t,s,e,t as l,h as o,c as r,j as c,d as n,l as i,k as d,f,p as h,g as u,m,r as g,u as p,v,w as y,x as E,y as x,o as b,a as D,B as I,q as w,E as S,F as $}from"./client.e3d55e37.js";import{S as V}from"./Sub.530e7ab5.js";function A(a,t,s){const e=a.slice();return e[7]=t[s],e}function j(a){let t,s,g,p,v,y,E,x,b,D,I,S,$=a[7].name+"",V=a[7].ago+"",A=a[7].today&&function(a){let t,s,o=a[7].today+"";return{c(){t=e("span"),s=l(o),this.h()},l(a){t=r(a,"SPAN",{class:!0});var e=c(t);s=n(e,o),e.forEach(d),this.h()},h(){f(t,"class","badge badge-danger badge-pill")},m(a,e){u(a,t,e),m(t,s)},p:w,d(a){a&&d(t)}}}(a),j=a[1][a[7].id]&&function(a){let t,s,h,g,p,v,y,E,x,b,D,I,S=a[1][a[7].id].about+"",$=a[1][a[7].id].note+"",V=a[7].count+"",A=1==a[7].count?"":"s",j=a[7].today+"";return{c(){t=e("p"),s=l(S),h=o(),g=e("small"),p=l($),v=l(" Contains "),y=l(V),E=l(" post"),x=l(A),b=l(", "),D=l(j),I=l(" in the last 24 hours."),this.h()},l(a){t=r(a,"P",{class:!0});var e=c(t);s=n(e,S),e.forEach(d),h=i(a),g=r(a,"SMALL",{class:!0});var l=c(g);p=n(l,$),v=n(l," Contains "),y=n(l,V),E=n(l," post"),x=n(l,A),b=n(l,", "),D=n(l,j),I=n(l," in the last 24 hours."),l.forEach(d),this.h()},h(){f(t,"class","mb-1"),f(g,"class","text-muted")},m(a,e){u(a,t,e),m(t,s),u(a,h,e),u(a,g,e),m(g,p),m(g,v),m(g,y),m(g,E),m(g,x),m(g,b),m(g,D),m(g,I)},p:w,d(a){a&&d(t),a&&d(h),a&&d(g)}}}(a);return{c(){t=e("a"),s=e("div"),g=e("h5"),p=l($),v=o(),A&&A.c(),y=o(),E=e("small"),x=l("Updated "),b=l(V),D=o(),j&&j.c(),I=o(),this.h()},l(a){t=r(a,"A",{href:!0,class:!0});var e=c(t);s=r(e,"DIV",{class:!0});var l=c(s);g=r(l,"H5",{class:!0});var o=c(g);p=n(o,$),v=i(o),A&&A.l(o),o.forEach(d),y=i(l),E=r(l,"SMALL",{class:!0});var f=c(E);x=n(f,"Updated "),b=n(f,V),f.forEach(d),l.forEach(d),D=i(e),j&&j.l(e),I=i(e),e.forEach(d),this.h()},h(){f(g,"class","mb-1"),f(E,"class","text-muted"),f(s,"class","d-flex w-100 justify-content-between"),f(t,"href",S="/category/"+a[7].id),f(t,"class","list-group-item list-group-item-action bg-dark"),h(t,"active",a[0]==a[7].id)},m(a,e){u(a,t,e),m(t,s),m(s,g),m(g,p),m(g,v),A&&A.m(g,null),m(s,y),m(s,E),m(E,x),m(E,b),m(t,D),j&&j.m(t,null),m(t,I)},p(a,s){a[7].today&&A.p(a,s),a[1][a[7].id]&&j.p(a,s),5&s&&h(t,"active",a[0]==a[7].id)},d(a){a&&d(t),A&&A.d(),j&&j.d()}}}function L(a){let t,s,l,n,h,D,I,w,S,$,L,N;const P=new V({props:{description:"Listing of all categories",posts:!0,tags:!0}});let k=a[2],C=[];for(let t=0;t<k.length;t+=1)C[t]=j(A(a,k,t));return{c(){t=e("main"),s=e("section"),l=e("div"),n=e("div"),h=e("div"),D=e("span"),I=o(),g(P.$$.fragment),w=o(),S=e("div"),$=e("div"),L=e("div");for(let a=0;a<C.length;a+=1)C[a].c();this.h()},l(a){t=r(a,"MAIN",{role:!0});var e=c(t);s=r(e,"SECTION",{});var o=c(s);l=r(o,"DIV",{class:!0});var f=c(l);n=r(f,"DIV",{class:!0});var u=c(n);h=r(u,"DIV",{class:!0});var m=c(h);D=r(m,"SPAN",{class:!0}),c(D).forEach(d),I=i(m),p(P.$$.fragment,m),m.forEach(d),u.forEach(d),w=i(f),S=r(f,"DIV",{class:!0});var g=c(S);$=r(g,"DIV",{class:!0});var v=c($);L=r(v,"DIV",{class:!0});var y=c(L);for(let a=0;a<C.length;a+=1)C[a].l(y);y.forEach(d),v.forEach(d),g.forEach(d),f.forEach(d),o.forEach(d),e.forEach(d),this.h()},h(){f(D,"class","text-warning small"),f(h,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),f(n,"class","row mt-5"),f(L,"class","list-group"),f($,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),f(S,"class","row mt-5"),f(l,"class","container"),f(t,"role","main")},m(a,e){u(a,t,e),m(t,s),m(s,l),m(l,n),m(n,h),m(h,D),m(h,I),v(P,h,null),m(l,w),m(l,S),m(S,$),m($,L);for(let a=0;a<C.length;a+=1)C[a].m(L,null);N=!0},p(a,[t]){if(7&t){let s;for(k=a[2],s=0;s<k.length;s+=1){const e=A(a,k,s);C[s]?C[s].p(e,t):(C[s]=j(e),C[s].c(),C[s].m(L,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=k.length}},i(a){N||(y(P.$$.fragment,a),N=!0)},o(a){E(P.$$.fragment,a),N=!1},d(a){a&&d(t),x(P),b(C,a)}}}async function N(a,t){const{slug:s}=a.params;return{slug:s}}function P(a,t,s){let{slug:e}=t,l=S(),o=[],r=l.reduce((a,t)=>(function(a,t){return a[t.category]||(a[t.category]={id:t.category,count:0,latest:new Date(t.date)}),a[t.category].count++,new Date(t.date)-new Date(a[t.category].latest)>0&&(a[t.category].latest=new Date(t.date)),a})(a,t),{});function c(){l.map(a=>(a.ago=$(a.date).from($()),a)),l.map(a=>(a.today=$().diff($(a.date),"days")<1,a)),o.map(a=>(a.ago=$(a.latest).from($()),a)),o.map(a=>(a.today=l.filter(t=>t.category===a.id).filter(a=>a.today).length,a))}Object.keys(r).forEach(function(a){let{count:t,latest:s,id:e}=r[a],l=D(a);o.push({id:e,name:l,count:t,latest:s})});let n=null;return n=setInterval(c,6e4),c(),I(()=>{clearInterval(n)}),a.$set=(a=>{"slug"in a&&s(0,e=a.slug)}),[e,{quarantine:{about:"Describes my poetic adventures during the 2020 Pandemic.",note:"Includes many poems from my studies and experiments with poetry."},research:{about:"Describes my early Svelte and Bootstrap research.",note:"It also contains early notes on user interface design."}},o]}export default class extends a{constructor(a){super(),t(this,a,P,L,s,{slug:0})}}export{N as preload};
