import{S as a,i as t,s,e,t as l,h as o,c as r,j as c,d as n,l as i,k as d,f,p as h,g as u,m,r as g,u as p,v,w as y,x as E,y as x,o as b,a as D,B as I,q as w,E as S,F as $}from"./client.84222d96.js";import{S as A}from"./Sub.6bf5e0c9.js";function L(a,t,s){const e=a.slice();return e[7]=t[s],e}function V(a){let t,s,g,p,v,y,E,x,b,D,I,S,$,A,L,V,j,M,N,P,k,C=a[7].name+"",q=a[7].ago+"",B=a[7].count+"",O=1==a[7].count?"":"s",U=a[7].today+"",F=a[7].today&&function(a){let t,s,o=a[7].today+"";return{c(){t=e("span"),s=l(o),this.h()},l(a){t=r(a,"SPAN",{class:!0});var e=c(t);s=n(e,o),e.forEach(d),this.h()},h(){f(t,"class","badge badge-danger badge-pill")},m(a,e){u(a,t,e),m(t,s)},p:w,d(a){a&&d(t)}}}(a),H=a[1][a[7].id]&&function(a){let t,s,h,g,p,v=a[1][a[7].id].about+"",y=a[1][a[7].id].note+"";return{c(){t=e("p"),s=l(v),h=o(),g=e("small"),p=l(y),this.h()},l(a){t=r(a,"P",{class:!0});var e=c(t);s=n(e,v),e.forEach(d),h=i(a),g=r(a,"SMALL",{class:!0});var l=c(g);p=n(l,y),l.forEach(d),this.h()},h(){f(t,"class","mb-1"),f(g,"class","text-muted")},m(a,e){u(a,t,e),m(t,s),u(a,h,e),u(a,g,e),m(g,p)},p:w,d(a){a&&d(t),a&&d(h),a&&d(g)}}}(a);return{c(){t=e("a"),s=e("div"),g=e("h5"),p=l(C),v=o(),F&&F.c(),y=o(),E=e("small"),x=l("Updated "),b=l(q),D=o(),H&&H.c(),I=o(),S=e("small"),$=l("Contains "),A=l(B),L=l(" post"),V=l(O),j=l(", "),M=l(U),N=l(" in the last 24 hours."),P=o(),this.h()},l(a){t=r(a,"A",{href:!0,class:!0});var e=c(t);s=r(e,"DIV",{class:!0});var l=c(s);g=r(l,"H5",{class:!0});var o=c(g);p=n(o,C),v=i(o),F&&F.l(o),o.forEach(d),y=i(l),E=r(l,"SMALL",{class:!0});var f=c(E);x=n(f,"Updated "),b=n(f,q),f.forEach(d),l.forEach(d),D=i(e),H&&H.l(e),I=i(e),S=r(e,"SMALL",{class:!0});var h=c(S);$=n(h,"Contains "),A=n(h,B),L=n(h," post"),V=n(h,O),j=n(h,", "),M=n(h,U),N=n(h," in the last 24 hours."),h.forEach(d),P=i(e),e.forEach(d),this.h()},h(){f(g,"class","mb-1"),f(E,"class","text-muted"),f(s,"class","d-flex w-100 justify-content-between"),f(S,"class","text-muted"),f(t,"href",k="/category/"+a[7].id),f(t,"class","list-group-item list-group-item-action bg-dark"),h(t,"active",a[0]==a[7].id)},m(a,e){u(a,t,e),m(t,s),m(s,g),m(g,p),m(g,v),F&&F.m(g,null),m(s,y),m(s,E),m(E,x),m(E,b),m(t,D),H&&H.m(t,null),m(t,I),m(t,S),m(S,$),m(S,A),m(S,L),m(S,V),m(S,j),m(S,M),m(S,N),m(t,P)},p(a,s){a[7].today&&F.p(a,s),a[1][a[7].id]&&H.p(a,s),5&s&&h(t,"active",a[0]==a[7].id)},d(a){a&&d(t),F&&F.d(),H&&H.d()}}}function j(a){let t,s,l,n,h,D,I,w,S,$,j,M;const N=new A({props:{description:"Listing of all categories",posts:!0,tags:!0}});let P=a[2],k=[];for(let t=0;t<P.length;t+=1)k[t]=V(L(a,P,t));return{c(){t=e("main"),s=e("section"),l=e("div"),n=e("div"),h=e("div"),D=e("span"),I=o(),g(N.$$.fragment),w=o(),S=e("div"),$=e("div"),j=e("div");for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){t=r(a,"MAIN",{role:!0});var e=c(t);s=r(e,"SECTION",{});var o=c(s);l=r(o,"DIV",{class:!0});var f=c(l);n=r(f,"DIV",{class:!0});var u=c(n);h=r(u,"DIV",{class:!0});var m=c(h);D=r(m,"SPAN",{class:!0}),c(D).forEach(d),I=i(m),p(N.$$.fragment,m),m.forEach(d),u.forEach(d),w=i(f),S=r(f,"DIV",{class:!0});var g=c(S);$=r(g,"DIV",{class:!0});var v=c($);j=r(v,"DIV",{class:!0});var y=c(j);for(let a=0;a<k.length;a+=1)k[a].l(y);y.forEach(d),v.forEach(d),g.forEach(d),f.forEach(d),o.forEach(d),e.forEach(d),this.h()},h(){f(D,"class","text-warning small"),f(h,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),f(n,"class","row mt-5"),f(j,"class","list-group"),f($,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),f(S,"class","row mt-5"),f(l,"class","container"),f(t,"role","main")},m(a,e){u(a,t,e),m(t,s),m(s,l),m(l,n),m(n,h),m(h,D),m(h,I),v(N,h,null),m(l,w),m(l,S),m(S,$),m($,j);for(let a=0;a<k.length;a+=1)k[a].m(j,null);M=!0},p(a,[t]){if(7&t){let s;for(P=a[2],s=0;s<P.length;s+=1){const e=L(a,P,s);k[s]?k[s].p(e,t):(k[s]=V(e),k[s].c(),k[s].m(j,null))}for(;s<k.length;s+=1)k[s].d(1);k.length=P.length}},i(a){M||(y(N.$$.fragment,a),M=!0)},o(a){E(N.$$.fragment,a),M=!1},d(a){a&&d(t),x(N),b(k,a)}}}async function M(a,t){const{slug:s}=a.params;return{slug:s}}function N(a,t,s){let{slug:e}=t,l=S(),o=[],r=l.reduce((a,t)=>(function(a,t){return a[t.category]||(a[t.category]={id:t.category,count:0,latest:new Date(t.date)}),a[t.category].count++,new Date(t.date)-new Date(a[t.category].latest)>0&&(a[t.category].latest=new Date(t.date)),a})(a,t),{});function c(){l.map(a=>(a.ago=$(a.date).from($()),a)),l.map(a=>(a.today=$().diff($(a.date),"days")<1,a)),o.map(a=>(a.ago=$(a.latest).from($()),a)),o.map(a=>(a.today=l.filter(t=>t.category===a.id).filter(a=>a.today).length,a))}Object.keys(r).forEach(function(a){let{count:t,latest:s,id:e}=r[a],l=D(a);o.push({id:e,name:l,count:t,latest:s})});let n=null;return n=setInterval(c,6e4),c(),I(()=>{clearInterval(n)}),a.$set=(a=>{"slug"in a&&s(0,e=a.slug)}),[e,{quarantine:{about:"Describes my poetic adventures during the 2020 Pandemic.",note:"Includes many poems from my studies and experiments with poetry."},research:{about:"Describes my early Svelte and Bootstrap research.",note:"It also contains early notes on user interface design."}},o]}export default class extends a{constructor(a){super(),t(this,a,N,j,s,{slug:0})}}export{M as preload};
