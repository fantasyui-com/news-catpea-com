import{S as t,i as a,s,v as e,w as n,x as r,y as o,z as l,A as c,o as f,e as i,B as g,k as d,p as m,c as $,j as h,f as u,h as p,l as v,C as E,n as w,D as I,E as D,G as j,F as y,u as S,H as V}from"./client.fa71ed4f.js";import{P as x}from"./Post.b446ce53.js";import{S as T,T as A}from"./Tail.878fd00e.js";function B(t,a,s){const e=t.slice();return e[5]=a[s],e}function C(t){let a;const s=new x({props:{data:t[5],read:"/tag/"+t[0]+"/read/"+t[5].id}});return{c(){e(s.$$.fragment)},l(t){n(s.$$.fragment,t)},m(t,e){r(s,t,e),a=!0},p(t,a){const e={};2&a&&(e.data=t[5]),3&a&&(e.read="/tag/"+t[0]+"/read/"+t[5].id),s.$set(e)},i(t){a||(o(s.$$.fragment,t),a=!0)},o(t){l(s.$$.fragment,t),a=!1},d(t){c(s,t)}}}function N(t){let a,s,I,D,j,S,V,x,N,P,b,k,z,F;document.title=a=t[2].title;const G=new T({props:{description:"Showing posts tagged "+t[0],posts:!0,tags:!0,categories:!0}});let H=t[1],M=[];for(let a=0;a<H.length;a+=1)M[a]=C(B(t,H,a));const O=t=>l(M[t],1,1,()=>{M[t]=null}),q=new A({});return{c(){s=f(),I=i("main"),D=i("section"),j=i("div"),S=i("div"),V=i("div"),e(G.$$.fragment),N=f(),P=i("div"),b=i("div");for(let t=0;t<M.length;t+=1)M[t].c();z=f(),e(q.$$.fragment),this.h()},l(t){g('[data-svelte="svelte-cjhwof"]',document.head).forEach(d),s=m(t),I=$(t,"MAIN",{role:!0});var a=h(I);D=$(a,"SECTION",{});var e=h(D);j=$(e,"DIV",{class:!0});var r=h(j);S=$(r,"DIV",{class:!0});var o=h(S);V=$(o,"DIV",{class:!0});var l=h(V);n(G.$$.fragment,l),l.forEach(d),o.forEach(d),N=m(r),P=$(r,"DIV",{class:!0});var c=h(P);b=$(c,"DIV",{class:!0});var f=h(b);for(let t=0;t<M.length;t+=1)M[t].l(f);f.forEach(d),c.forEach(d),r.forEach(d),e.forEach(d),a.forEach(d),z=m(t),n(q.$$.fragment,t),this.h()},h(){u(V,"class",x=t[2].column),u(S,"class","row mt-5"),u(b,"class",k=t[2].column),u(P,"class","row mt-5"),u(j,"class","container"),u(I,"role","main")},m(t,a){p(t,s,a),p(t,I,a),v(I,D),v(D,j),v(j,S),v(S,V),r(G,V,null),v(j,N),v(j,P),v(P,b);for(let t=0;t<M.length;t+=1)M[t].m(b,null);p(t,z,a),r(q,t,a),F=!0},p(t,[s]){(!F||4&s)&&a!==(a=t[2].title)&&(document.title=a);const e={};if(1&s&&(e.description="Showing posts tagged "+t[0]),G.$set(e),3&s){let a;for(H=t[1],a=0;a<H.length;a+=1){const e=B(t,H,a);M[a]?(M[a].p(e,s),o(M[a],1)):(M[a]=C(e),M[a].c(),o(M[a],1),M[a].m(b,null))}for(y(),a=H.length;a<M.length;a+=1)O(a);E()}},i(t){if(!F){o(G.$$.fragment,t);for(let t=0;t<H.length;t+=1)o(M[t]);o(q.$$.fragment,t),F=!0}},o(t){l(G.$$.fragment,t),M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)l(M[t]);l(q.$$.fragment,t),F=!1},d(t){t&&d(s),t&&d(I),c(G),w(M,t),t&&d(z),c(q,t)}}}async function P(t,a){const{tag:s}=t.params;return{tag:s}}function b(t,a,s){let{tag:e}=a;const n=S();function r(){s(1,o=o.map(t=>(t.ago=V(t.date).from(V()),t))),o.map(t=>(t.today=V().diff(V(t.date),"days")<1,t))}let o,l=null;return l=setInterval(r,6e4),I(()=>{clearInterval(l)}),D(()=>{r()}),t.$set=(t=>{"tag"in t&&s(0,e=t.tag)}),t.$$.update=(()=>{1&t.$$.dirty&&s(1,o=j().filter(t=>t.tags.split(" ").includes(e)))}),[e,o,n]}export default class extends t{constructor(t){super(),a(this,t,b,N,s,{tag:0})}}export{P as preload};
