import{S as a,i as t,s,e,t as l,o as r,c as n,j as o,d as c,k as i,p as d,f as h,g as f,q as m,h as g,l as u,v as p,B as v,w as E,x as $,y as w,z as y,A as b,n as D,D as I,r as V,u as x,G as j,H as A}from"./client.86af43e8.js";import{S,T as k}from"./Tail.714f7b8f.js";function B(a,t,s){const e=a.slice();return e[6]=t[s],e}function C(a){let t,s,p,v,E,$,w,y,b,D,I,x,j,A,S,k,B,C,H,N,T,G,M,O,P,U,q,z,L,F,J=a[6].name+"",K=a[6].ago+"",Q=a[6].count+"",R=1==a[6].count?"":"s",W=a[6].today+"",X=a[6].name+"",Y=a[6].today&&function(a){let t,s,r=a[6].today+"";return{c(){t=e("span"),s=l(r),this.h()},l(a){t=n(a,"SPAN",{class:!0});var e=o(t);s=c(e,r),e.forEach(i),this.h()},h(){h(t,"class","badge badge-danger badge-pill float-right")},m(a,e){g(a,t,e),u(t,s)},p:V,d(a){a&&i(t)}}}(a);return{c(){t=e("div"),s=e("div"),p=e("h5"),v=e("a"),E=l(J),$=l(" » "),Y&&Y.c(),y=r(),b=e("h6"),D=e("img"),x=l(" Updated "),j=l(K),A=l("."),S=r(),k=e("p"),B=l("Contains "),C=l(Q),H=l(" post"),N=l(R),T=l(", "),G=l(W),M=l(" in the last 24 hours."),O=r(),P=e("a"),U=l("Browse "),q=l(X),z=l(" »"),F=r(),this.h()},l(a){t=n(a,"DIV",{class:!0});var e=o(t);s=n(e,"DIV",{class:!0});var l=o(s);p=n(l,"H5",{class:!0});var r=o(p);v=n(r,"A",{class:!0,href:!0});var h=o(v);E=c(h,J),$=c(h," » "),Y&&Y.l(h),h.forEach(i),r.forEach(i),y=d(l),b=n(l,"H6",{class:!0});var f=o(b);D=n(f,"IMG",{src:!0,alt:!0,width:!0,height:!0,style:!0}),x=c(f," Updated "),j=c(f,K),A=c(f,"."),f.forEach(i),S=d(l),k=n(l,"P",{class:!0});var m=o(k);B=c(m,"Contains "),C=c(m,Q),H=c(m," post"),N=c(m,R),T=c(m,", "),G=c(m,W),M=c(m," in the last 24 hours."),m.forEach(i),O=d(l),P=n(l,"A",{class:!0,href:!0});var g=o(P);U=c(g,"Browse "),q=c(g,X),z=c(g," »"),g.forEach(i),l.forEach(i),F=d(e),e.forEach(i),this.h()},h(){h(v,"class","text-light"),h(v,"href",w="/tag/"+a[6].id),h(p,"class","card-title pb-2"),D.src!==(I="/icons/envelope.svg")&&h(D,"src","/icons/envelope.svg"),h(D,"alt",""),h(D,"width","16"),h(D,"height","16"),f(D,"filter","invert(1)"),h(b,"class","card-subtitle ml-3 mb-3"),h(k,"class","card-text ml-3"),h(P,"class","btn btn-outline-info ml-3"),h(P,"href",L="/tag/"+a[6].id),h(s,"class","card-body py-4 px-3"),h(t,"class","card mb-5 article-link shadow"),m(t,"border-danger",a[6].today)},m(a,e){g(a,t,e),u(t,s),u(s,p),u(p,v),u(v,E),u(v,$),Y&&Y.m(v,null),u(s,y),u(s,b),u(b,D),u(b,x),u(b,j),u(b,A),u(s,S),u(s,k),u(k,B),u(k,C),u(k,H),u(k,N),u(k,T),u(k,G),u(k,M),u(s,O),u(s,P),u(P,U),u(P,q),u(P,z),u(t,F)},p(a,s){a[6].today&&Y.p(a,s),2&s&&m(t,"border-danger",a[6].today)},d(a){a&&i(t),Y&&Y.d()}}}function H(a){let t,s,l,c,f,m,I,V,x,j,A,H,N,T;document.title=t=a[0].title;const G=new S({props:{description:"Listing of all tags",posts:!0,categories:!0}});let M=a[1],O=[];for(let t=0;t<M.length;t+=1)O[t]=C(B(a,M,t));const P=new k({});return{c(){s=r(),l=e("main"),c=e("section"),f=e("div"),m=e("div"),I=e("div"),p(G.$$.fragment),x=r(),j=e("div"),A=e("div");for(let a=0;a<O.length;a+=1)O[a].c();N=r(),p(P.$$.fragment),this.h()},l(a){v('[data-svelte="svelte-cjhwof"]',document.head).forEach(i),s=d(a),l=n(a,"MAIN",{role:!0});var t=o(l);c=n(t,"SECTION",{});var e=o(c);f=n(e,"DIV",{class:!0});var r=o(f);m=n(r,"DIV",{class:!0});var h=o(m);I=n(h,"DIV",{class:!0});var g=o(I);E(G.$$.fragment,g),g.forEach(i),h.forEach(i),x=d(r),j=n(r,"DIV",{class:!0});var u=o(j);A=n(u,"DIV",{class:!0});var p=o(A);for(let a=0;a<O.length;a+=1)O[a].l(p);p.forEach(i),u.forEach(i),r.forEach(i),e.forEach(i),t.forEach(i),N=d(a),E(P.$$.fragment,a),this.h()},h(){h(I,"class",V=a[0].column),h(m,"class","row mt-5"),h(A,"class",H=a[0].column),h(j,"class","row mt-5"),h(f,"class","container"),h(l,"role","main")},m(a,t){g(a,s,t),g(a,l,t),u(l,c),u(c,f),u(f,m),u(m,I),$(G,I,null),u(f,x),u(f,j),u(j,A);for(let a=0;a<O.length;a+=1)O[a].m(A,null);g(a,N,t),$(P,a,t),T=!0},p(a,[s]){if((!T||1&s)&&t!==(t=a[0].title)&&(document.title=t),2&s){let t;for(M=a[1],t=0;t<M.length;t+=1){const e=B(a,M,t);O[t]?O[t].p(e,s):(O[t]=C(e),O[t].c(),O[t].m(A,null))}for(;t<O.length;t+=1)O[t].d(1);O.length=M.length}},i(a){T||(w(G.$$.fragment,a),w(P.$$.fragment,a),T=!0)},o(a){y(G.$$.fragment,a),y(P.$$.fragment,a),T=!1},d(a){a&&i(s),a&&i(l),b(G),D(O,a),a&&i(N),b(P,a)}}}function N(a){const t=x();let s=j();const e=s.reduce((a,t)=>(function(a,t){for(const s of t.tags.split(" "))a[s]||(a[s]={id:s,name:s,count:0,latest:new Date(t.date)}),a[s].count++,new Date(t.date)-new Date(a[s].latest)>0&&(a[s].latest=new Date(t.date));return a})(a,t),{}),l=Object.keys(e).map(a=>e[a]);function r(){s.map(a=>(a.ago=A(a.date).from(A()),a)),s.map(a=>(a.today=A().diff(A(a.date),"days")<1,a)),l.map(a=>(a.ago=A(a.latest).from(A()),a)),l.map(a=>(a.today=s.filter(t=>t.tags.split(" ").includes(a.id)).filter(a=>a.today).length,a))}let n=null;return n=setInterval(r,6e4),r(),I(()=>{clearInterval(n)}),[t,l]}export default class extends a{constructor(a){super(),t(this,a,N,H,s,{})}}
