import{S as a,i as t,s,e,t as l,h as o,c as r,j as c,d as n,l as i,k as f,f as d,g as h,m,r as u,u as g,v as p,w as v,x as E,y as x,o as y,B as D,q as I,E as w,F as b}from"./client.e3d55e37.js";import{S as $}from"./Sub.530e7ab5.js";function S(a,t,s){const e=a.slice();return e[5]=t[s],e}function V(a){let t,s,u,g,p,v,E,x,y,D,w,b,$,S,V,j,A,L,k,C,M=a[5].name+"",N=a[5].ago+"",O=a[5].count+"",q=1==a[5].count?"":"s",B=a[5].today+"",F=a[5].today&&function(a){let t,s,o=a[5].today+"";return{c(){t=e("span"),s=l(o),this.h()},l(a){t=r(a,"SPAN",{class:!0});var e=c(t);s=n(e,o),e.forEach(f),this.h()},h(){d(t,"class","badge badge-danger badge-pill")},m(a,e){h(a,t,e),m(t,s)},p:I,d(a){a&&f(t)}}}(a);return{c(){t=e("a"),s=e("div"),u=e("h5"),g=l(M),p=o(),F&&F.c(),v=o(),E=e("small"),x=l("updated "),y=l(N),D=o(),w=e("small"),b=l("Contains "),$=l(O),S=l(" post"),V=l(q),j=l(", "),A=l(B),L=l(" in the last 24 hours."),k=o(),this.h()},l(a){t=r(a,"A",{href:!0,class:!0});var e=c(t);s=r(e,"DIV",{class:!0});var l=c(s);u=r(l,"H5",{class:!0});var o=c(u);g=n(o,M),p=i(o),F&&F.l(o),o.forEach(f),v=i(l),E=r(l,"SMALL",{class:!0});var d=c(E);x=n(d,"updated "),y=n(d,N),d.forEach(f),l.forEach(f),D=i(e),w=r(e,"SMALL",{class:!0});var h=c(w);b=n(h,"Contains "),$=n(h,O),S=n(h," post"),V=n(h,q),j=n(h,", "),A=n(h,B),L=n(h," in the last 24 hours."),h.forEach(f),k=i(e),e.forEach(f),this.h()},h(){d(u,"class","mb-1"),d(E,"class","text-muted"),d(s,"class","d-flex w-100 justify-content-between"),d(w,"class","text-muted"),d(t,"href",C="/tag/"+a[5].id),d(t,"class","list-group-item list-group-item-action bg-dark")},m(a,e){h(a,t,e),m(t,s),m(s,u),m(u,g),m(u,p),F&&F.m(u,null),m(s,v),m(s,E),m(E,x),m(E,y),m(t,D),m(t,w),m(w,b),m(w,$),m(w,S),m(w,V),m(w,j),m(w,A),m(w,L),m(t,k)},p(a,t){a[5].today&&F.p(a,t)},d(a){a&&f(t),F&&F.d()}}}function j(a){let t,s,l,n,D,I,w,b,j,A;const L=new $({props:{description:"Listing of all tags",posts:!0,categories:!0}});let k=a[0],C=[];for(let t=0;t<k.length;t+=1)C[t]=V(S(a,k,t));return{c(){t=e("main"),s=e("section"),l=e("div"),n=e("div"),D=e("div"),u(L.$$.fragment),I=o(),w=e("div"),b=e("div"),j=e("div");for(let a=0;a<C.length;a+=1)C[a].c();this.h()},l(a){t=r(a,"MAIN",{role:!0});var e=c(t);s=r(e,"SECTION",{});var o=c(s);l=r(o,"DIV",{class:!0});var d=c(l);n=r(d,"DIV",{class:!0});var h=c(n);D=r(h,"DIV",{class:!0});var m=c(D);g(L.$$.fragment,m),m.forEach(f),h.forEach(f),I=i(d),w=r(d,"DIV",{class:!0});var u=c(w);b=r(u,"DIV",{class:!0});var p=c(b);j=r(p,"DIV",{class:!0});var v=c(j);for(let a=0;a<C.length;a+=1)C[a].l(v);v.forEach(f),p.forEach(f),u.forEach(f),d.forEach(f),o.forEach(f),e.forEach(f),this.h()},h(){d(D,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),d(n,"class","row mt-5"),d(j,"class","list-group"),d(b,"class","col-12 offset-md-1 col-md-10 offset-xxl-3 col-xxl-6"),d(w,"class","row mt-5"),d(l,"class","container"),d(t,"role","main")},m(a,e){h(a,t,e),m(t,s),m(s,l),m(l,n),m(n,D),p(L,D,null),m(l,I),m(l,w),m(w,b),m(b,j);for(let a=0;a<C.length;a+=1)C[a].m(j,null);A=!0},p(a,[t]){if(1&t){let s;for(k=a[0],s=0;s<k.length;s+=1){const e=S(a,k,s);C[s]?C[s].p(e,t):(C[s]=V(e),C[s].c(),C[s].m(j,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=k.length}},i(a){A||(v(L.$$.fragment,a),A=!0)},o(a){E(L.$$.fragment,a),A=!1},d(a){a&&f(t),x(L),y(C,a)}}}function A(a){let t=w();const s=t.reduce((a,t)=>(function(a,t){for(const s of t.tags.split(" "))a[s]||(a[s]={id:s,name:s,count:0,latest:new Date(t.date)}),a[s].count++,new Date(t.date)-new Date(a[s].latest)>0&&(a[s].latest=new Date(t.date));return a})(a,t),{}),e=Object.keys(s).map(a=>s[a]);function l(){t.map(a=>(a.ago=b(a.date).from(b()),a)),t.map(a=>(a.today=b().diff(b(a.date),"days")<1,a)),e.map(a=>(a.ago=b(a.latest).from(b()),a)),e.map(a=>(a.today=t.filter(t=>t.tags.split(" ").includes(a.id)).filter(a=>a.today).length,a))}let o=null;return o=setInterval(l,6e4),l(),D(()=>{clearInterval(o)}),[e]}export default class extends a{constructor(a){super(),t(this,a,A,j,s,{})}}
