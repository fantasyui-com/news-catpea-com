import{S as a,i as s,s as t,e as l,t as e,d as o,f as c,g as r,h as n,k as f,j as i,l as d,m as h,n as m,v as u,r as g,w as p}from"./client.7e01d958.js";import{m as v,a as E}from"./index.8eae6a53.js";function x(a,s,t){const l=a.slice();return l[5]=s[t],l}function D(a){let s,t,g,p,v,E,x,D,I,w,y,b,A,V,L,S,j,N,k,C,M=a[5].name+"",O=a[5].ago+"",P=a[5].count+"",H=1==a[5].count?"":"s",T=a[5].today+"",q=a[5].today&&function(a){let s,t,o=a[5].today+"";return{c(){s=l("span"),t=e(o),this.h()},l(a){s=c(a,"SPAN",{class:!0});var l=r(s);t=n(l,o),l.forEach(i),this.h()},h(){d(s,"class","badge badge-danger badge-pill")},m(a,l){h(a,s,l),m(s,t)},p:u,d(a){a&&i(s)}}}(a);return{c(){s=l("a"),t=l("div"),g=l("h5"),p=e(M),v=o(),q&&q.c(),E=o(),x=l("small"),D=e("updated "),I=e(O),w=o(),y=l("small"),b=e("Contains "),A=e(P),V=e(" post"),L=e(H),S=e(", "),j=e(T),N=e(" in the last 24 hours."),k=o(),this.h()},l(a){s=c(a,"A",{href:!0,class:!0});var l=r(s);t=c(l,"DIV",{class:!0});var e=r(t);g=c(e,"H5",{class:!0});var o=r(g);p=n(o,M),v=f(o),q&&q.l(o),o.forEach(i),E=f(e),x=c(e,"SMALL",{class:!0});var d=r(x);D=n(d,"updated "),I=n(d,O),d.forEach(i),e.forEach(i),w=f(l),y=c(l,"SMALL",{class:!0});var h=r(y);b=n(h,"Contains "),A=n(h,P),V=n(h," post"),L=n(h,H),S=n(h,", "),j=n(h,T),N=n(h," in the last 24 hours."),h.forEach(i),k=f(l),l.forEach(i),this.h()},h(){d(g,"class","mb-1"),d(x,"class","text-muted"),d(t,"class","d-flex w-100 justify-content-between"),d(y,"class","text-muted"),d(s,"href",C="/tags/"+a[5].id),d(s,"class","list-group-item list-group-item-action bg-dark")},m(a,l){h(a,s,l),m(s,t),m(t,g),m(g,p),m(g,v),q&&q.m(g,null),m(t,E),m(t,x),m(x,D),m(x,I),m(s,w),m(s,y),m(y,b),m(y,A),m(y,V),m(y,L),m(y,S),m(y,j),m(y,N),m(s,k)},p(a,s){a[5].today&&q.p(a,s)},d(a){a&&i(s),q&&q.d()}}}function I(a){let s,t,p,v,E,I,w,y,b,A,V,L,S,j,N=a[0],k=[];for(let s=0;s<N.length;s+=1)k[s]=D(x(a,N,s));return{c(){s=l("main"),t=l("section"),p=l("div"),v=l("div"),E=l("div"),I=l("span"),w=e("Listing of all tags"),y=e(" · "),b=l("a"),A=e("list all posts"),V=o(),L=l("div"),S=l("div"),j=l("div");for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){s=c(a,"MAIN",{role:!0});var l=r(s);t=c(l,"SECTION",{});var e=r(t);p=c(e,"DIV",{class:!0});var o=r(p);v=c(o,"DIV",{class:!0});var d=r(v);E=c(d,"DIV",{class:!0});var h=r(E);I=c(h,"SPAN",{class:!0});var m=r(I);w=n(m,"Listing of all tags"),m.forEach(i),y=n(h," · "),b=c(h,"A",{class:!0,href:!0});var u=r(b);A=n(u,"list all posts"),u.forEach(i),h.forEach(i),d.forEach(i),V=f(o),L=c(o,"DIV",{class:!0});var g=r(L);S=c(g,"DIV",{class:!0});var x=r(S);j=c(x,"DIV",{class:!0});var D=r(j);for(let a=0;a<k.length;a+=1)k[a].l(D);D.forEach(i),x.forEach(i),g.forEach(i),o.forEach(i),e.forEach(i),l.forEach(i),this.h()},h(){d(I,"class","text-warning small"),d(b,"class","small"),d(b,"href","/"),d(E,"class","col-12 offset-md-2 col-md-8 offset-lg-3 col-lg-6 offset-xxl-3 col-xxl-6"),d(v,"class","row mt-5"),d(j,"class","list-group"),d(S,"class","col-12 offset-md-2 col-md-8 offset-lg-3 col-lg-6 offset-xxl-3 col-xxl-6"),d(L,"class","row mt-5"),d(p,"class","container"),d(s,"role","main")},m(a,l){h(a,s,l),m(s,t),m(t,p),m(p,v),m(v,E),m(E,I),m(I,w),m(E,y),m(E,b),m(b,A),m(p,V),m(p,L),m(L,S),m(S,j);for(let a=0;a<k.length;a+=1)k[a].m(j,null)},p(a,[s]){if(1&s){let t;for(N=a[0],t=0;t<N.length;t+=1){const l=x(a,N,t);k[t]?k[t].p(l,s):(k[t]=D(l),k[t].c(),k[t].m(j,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=N.length}},i:u,o:u,d(a){a&&i(s),g(k,a)}}}function w(a){let s=v();const t=s.reduce((a,s)=>(function(a,s){for(const t of s.tags.split(" "))a[t]||(a[t]={id:t,name:t,count:0,latest:new Date(s.date)}),a[t].count++,new Date(s.date)-new Date(a[t].latest)>0&&(a[t].latest=new Date(s.date));return a})(a,s),{}),l=Object.keys(t).map(a=>t[a]);function e(){s.map(a=>(a.ago=E(a.date).from(E()),a)),s.map(a=>(a.today=E().diff(E(a.date),"days")<1,a)),l.map(a=>(a.ago=E(a.latest).from(E()),a)),l.map(a=>(a.today=s.filter(s=>s.tags.split(" ").includes(a.id)).filter(a=>a.today).length,a))}let o=null;return o=setInterval(e,6e4),e(),p(()=>{clearInterval(o)}),[l]}export default class extends a{constructor(a){super(),s(this,a,w,I,t,{})}}
